<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Chatbot using Llama Model">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Llama Token Chatbot</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/notyf@3/notyf.min.css">
    <script src="https://cdn.jsdelivr.net/npm/notyf@3/notyf.min.js"></script>
    <link rel="stylesheet" href="../style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js"></script>
    <script defer src="../script.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>Llama Token Chatbot</h1>
            <nav>
                <button onclick="resetConversation()" class="btn btn-reset">Reset Conversation</button>
                <button onclick="saveConversation()" class="btn btn-save">Save Conversation</button>
                <button onclick="listConversations()" class="btn btn-list">List Saved Conversations</button>
            </nav>
        </header>

        <main>
            <section id="chat-container">
                <div id="chat-history" class="chat-history"></div>
                <div class="message-input">
                    <form id="message-form" onsubmit="event.preventDefault(); sendMessage();">
                        <input type="text" id="user-message" placeholder="Type your message here..." autofocus>
                        <button type="submit" class="btn btn-send">Send</button>
                    </form>
                </div>
            </section>

            <section id="token-progress-container" class="token-progress-container">
                <progress id="token-progress-bar" max="128000" value="0"></progress>
                <span id="token-usage-text"></span>
            </section>

            <section class="few-shot-examples">
                <h2>Add Few-Shot Example</h2>
                <form id="few-shot-form" onsubmit="event.preventDefault(); addFewShotExample();">
                    <div class="form-group">
                        <label for="user-prompt">User Prompt:</label>
                        <input type="text" id="user-prompt" placeholder="Enter User Prompt">
                    </div>
                    <div class="form-group">
                        <label for="assistant-response">Assistant Response:</label>
                        <input type="text" id="assistant-response" placeholder="Enter Assistant Response">
                    </div>
                    <button type="submit" class="btn btn-add">Add Example</button>
                </form>
            </section>

            <section class="file-upload">
                <h2>Upload File for Analysis</h2>
                <form id="file-upload-form" onsubmit="event.preventDefault(); uploadFile();">
                    <input type="file" id="file-input" accept=".txt,.json,.md" title="Choose a file to upload">
                    <button type="submit" class="btn btn-upload">Upload File</button>
                </form>
            </section>

            <section id="saved-conversations">
                <h2>Saved Conversations</h2>
                <ul id="conversation-list"></ul>
            </section>
        </main>

        <footer>
            <p>&copy; 2023 Llama Token Chatbot. All rights reserved.</p>
        </footer>
    </div>
</body>
</html>